<?php
// Car Data - All major Indian car brands and models
$carData = [
    'Maruti-Suzuki' => [
        'id' => 'maruti',
        'logo' => 'assets/images/Maruti Suzuki.png',
        'models' => [
            'Swift' => [
                'image' => 'assets/images/MarutiSuzukiSwift.png',
                // Features loaded from JSON
            ],
            'Baleno' => [
                'image' => 'assets/images/baleno.png',
                // Features loaded from JSON
            ],
            'Vitara Brezza' => [
                'image' => 'assets/images/vitarabrezza.jpg',
                // Features loaded from JSON
            ],
            'Ertiga' => [
                'image' => 'assets/images/eritiga.png',
                // Features loaded from JSON
            ],
            'Celerio' => [
                'image' => 'assets/images/celerio.jpg',
                // Features loaded from JSON
            ],
            'XL6' => [
                'image' => 'assets/images/nexaXL6.png',
                // Features loaded from JSON
            ],
            'Ciaz' => [
                'image' => 'assets/images/maruticiaz.png',
                // Features loaded from JSON
            ]
        ]
    ],
    'Hyundai' => [
        'id' => 'hyundai',
        'logo' => 'assets/images/hyundayi.png',
        'models' => [
            'Creta' => [
                'image' => 'assets/images/creta.jpg',
                // Features loaded from JSON
            ],
            'Venue' => [
                'image' => 'assets/images/venue.png',
                // Features loaded from JSON
            ],
            'i20' => [
                'image' => 'assets/images/i20.png',
                // Features loaded from JSON
            ],
            'Alcazar' => [
                'image' => 'assets/images/alcazar.png',
                // Features loaded from JSON
            ],
            'Verna' => [
                'image' => 'assets/images/verna.png',
                // Features loaded from JSON
            ],
            'Santro' => [
                'image' => 'assets/images/santro.webp',
                // Features loaded from JSON
            ],
            'Aura' => [
                'image' => 'assets/images/aura.jpg',
                // Features loaded from JSON
            ],
            'Exter' => [
                'image' => 'assets/images/Exter.png',
                // Features loaded from JSON
            ],
            'Tucson' => [
                'image' => 'assets/images/tuscon.webp',
                // Features loaded from JSON
            ]
        ]
    ],
    'Tata-Motors' => [
        'id' => 'tata',
        'logo' => 'assets/images/tata.png',
        'models' => [
            'Nexon' => [
                'image' => 'assets/images/nexon.webp',
                // Features loaded from JSON
            ],
            'Harrier' => [
                'image' => 'assets/images/harrier.webp',
                // Features loaded from JSON
            ],
            'Altroz' => [
                'image' => 'assets/images/altroz.png',
                // Features loaded from JSON
            ],
            'Punch' => [
                'image' => 'assets/images/TATAPunch.png',
                // Features loaded from JSON
            ],
            'Safari' => [
                'image' => 'assets/images/tatasafari.avif',
                // Features loaded from JSON
            ],
            'Tiago' => [
                'image' => 'assets/images/tata Tiago.png',
                // Features loaded from JSON
            ],
            'Tigor' => [
                'image' => 'assets/images/tata tigor.png',
                // Features loaded from JSON
            ],
            'Curvv' => [
                'image' => 'assets/images/tata curvv.jpg',
                // Features loaded from JSON
            ]
        ]
    ],
    'Mahindra' => [
        'id' => 'mahindra',
        'logo' => 'assets/images/mahindra.png',
        'models' => [
            'Thar' => [
                'image' => 'assets/images/thar.webp',
                // Features loaded from JSON
            ],
            'XUV300' => [
                'image' => 'assets/images/xuv300.png',
                // Features loaded from JSON
            ],
            'XUV400' => [
                'image' => 'assets/images/xuv400.png',
                // Features loaded from JSON
            ],
            'XUV500' => [
                'image' => 'assets/images/xuv500.jpg',
                // Features loaded from JSON
            ],
            'XUV700' => [
                'image' => 'assets/images/xuv700.webp',
                // Features loaded from JSON
            ],
            'Scorpio Classic' => [
                'image' => 'assets/images/scorpio classic.webp',
                // Features loaded from JSON
            ],
            'Scorpio-N' => [
                'image' => 'assets/images/scorpio-n.png',
                // Features loaded from JSON
            ],
            'Bolero' => [
                'image' => 'assets/images/bolero.avif',
                // Features loaded from JSON
            ],
            'Bolero Neo' => [
                'image' => 'assets/images/bolero neo.webp',
                // Features loaded from JSON
            ],
            'XEV 9e' => [
                'image' => 'assets/images/xev9e.avif',
                // Features loaded from JSON
            ],
            'BE6' => [
                'image' => 'assets/images/be6e.avif',
                // Features loaded from JSON
            ]
        ]
    ],
    'Honda' => [
        'id' => 'honda',
        'logo' => 'assets/images/honda.png',
        'models' => [
            'City' => [
                'image' => 'assets/images/honda city.avif',
                // Features loaded from JSON
            ],
            'Amaze' => [
                'image' => 'assets/images/honda amaze.avif',
                // Features loaded from JSON
            ],
            'Jazz' => [
                'image' => 'assets/images/honda jazz.webp',
                // Features loaded from JSON
            ],
            'WR-V' => [
                'image' => 'assets/images/honda wrv.avif',
                // Features loaded from JSON
            ],
            'Civic' => [
                'image' => 'assets/images/honda civic.avif',
                // Features loaded from JSON
            ],
            'Elevate' => [
                'image' => 'assets/images/honda elevate.avif',
                // Features loaded from JSON
            ]
        ]
    ],
    'Toyota' => [
        'id' => 'toyota',
        'logo' => 'assets/images/toyota.png',
        'models' => [
            'Fortuner' => [
                'image' => 'assets/images/fortuner.webp',
                // Features loaded from JSON
            ],
            'Innova Crysta' => [
                'image' => 'assets/images/ToyotaInnovaCrysta.webp',
                // Features loaded from JSON
            ],
            'Camry' => [
                'image' => 'assets/images/camry.jpg',
                // Features loaded from JSON
            ],
            'Glanza' => [
                'image' => 'assets/images/glanza.jpg',
                // Features loaded from JSON
            ],
            'Urban Cruiser' => [
                'image' => 'assets/images/urbancruiser.jpg',
                // Features loaded from JSON
            ],
            'Innova Hycross' => [
                'image' => 'assets/images/innovahycross.png',
                // Features loaded from JSON
            ],
            'Hilux' => [
                'image' => 'assets/images/toyotahilux.avif',
                // Features loaded from JSON
            ],
            'Vellfire' => [
                'image' => 'assets/images/toyota vellfire.jpg',
                // Features loaded from JSON
            ],
            'Rumion' => [
                'image' => 'assets/images/toyotarumion.jpg',
                // Features loaded from JSON
            ]
        ]
    ],
    'Kia' => [
        'id' => 'kia',
        'logo' => 'assets/images/kia.png',
        'models' => [
            'Seltos' => [
                'image' => 'assets/images/kia saltos.webp',
                // Features loaded from JSON
            ],
            'Sonet' => [
                'image' => 'assets/images/kia sonet.webp',
                // Features loaded from JSON
            ],
            'Carens' => [
                'image' => 'assets/images/kia carnes.webp',
                // Features loaded from JSON
            ],
            'Carnival' => [
                'image' => 'assets/images/kia narnival.webp',
                // Features loaded from JSON
            ],
            'Syros' => [
                'image' => 'assets/images/kia syros.avif',
                // Features loaded from JSON
            ],
            'EV6' => [
                'image' => 'assets/images/kia ev6.avif',
                // Features loaded from JSON
            ],
            'EV9' => [
                'image' => 'assets/images/kia ev9.avif',
                // Features loaded from JSON
            ]
        ]
    ],
    'MG-Motor' => [
        'id' => 'mg',
        'logo' => 'assets/images/mg.png',
        'models' => [
            'Hector' => [
                'image' => 'assets/images/mg hector.avif',
                // Features loaded from JSON
            ],
            'Astor' => [
                'image' => 'assets/images/mg astor.avif',
                // Features loaded from JSON
            ],
            'Windsor EV' => [
                'image' => 'assets/images/mg windsor ev.webp',
                // Features loaded from JSON
            ],
            'Comet EV' => [
                'image' => 'assets/images/mg comet ev.webp',
                // Features loaded from JSON
            ],
            'ZS EV' => [
                'image' => 'assets/images/mgzsev.webp',
                // Features loaded from JSON
            ],
            'Gloster' => [
                'image' => 'assets/images/mg gloster.avif',
                // Features loaded from JSON
            ]
        ]
    ],
    'Volkswagen' => [
        'id' => 'volkswagen',
        'logo' => 'assets/images/volkswagon.png',
        'models' => [
            'Taigun' => [
                'image' => 'assets/images/taigun.avif',
                // Features loaded from JSON
            ],
            'Virtus' => [
                'image' => 'assets/images/virtus.webp',
                // Features loaded from JSON
            ],
            'Polo' => [
                'image' => 'assets/images/polo.avif',
                // Features loaded from JSON
            ],
            'Passat' => [
                'image' => 'assets/images/Volkswagen Passat.avif',
                // Features loaded from JSON
            ]
        ]
    ],
    'Mercedes' => [
        'id' => 'mercedes',
        'logo' => 'assets/images/mercedes.png',
        'models' => [
            'C-Class' => [
                'image' => 'assets/images/c-class.avif',
                // Features loaded from JSON
            ],
            'E-Class' => [
                'image' => 'assets/images/eclass.avif',
                // Features loaded from JSON
            ],
            'S-Class' => [
                'image' => 'assets/images/s-class.avif',
                // Features loaded from JSON
            ],
            'GLA' => [
                'image' => 'assets/images/gla.avif',
                // Features loaded from JSON
            ],
            'GLC' => [
                'image' => 'assets/images/glc.avif',
                // Features loaded from JSON
            ],
            'GLE' => [
                'image' => 'assets/images/gle.webp',
                // Features loaded from JSON
            ]
        ]
    ],
    'BMW' => [
        'id' => 'bmw',
        'logo' => 'assets/images/bmw.png',
        'models' => [
            '3 Series' => [
                'image' => 'assets/images/bmw 3 series.avif',
                // Features loaded from JSON
            ],
            'X1' => [
                'image' => 'assets/images/bmw x1.webp',
                // Features loaded from JSON
            ],
            'X3' => [
                'image' => 'assets/images/bmw x3.webp',
                // Features loaded from JSON
            ],
            'X4' => [
                'image' => 'assets/images/bmw x4.jpg',
                // Features loaded from JSON
            ],
            'X5' => [
                'image' => 'assets/images/bmw x5.avif',
                // Features loaded from JSON
            ],
            'Z4' => [
                'image' => 'assets/images/bmw z4.avif',
                // Features loaded from JSON
            ]
        ]
    ],
    'Skoda' => [
        'id' => 'skoda',
        'logo' => 'assets/images/skoda.png',
        'models' => [
            'Kushaq' => [
                'image' => 'assets/images/skoda kushaq.avif',
                // Features loaded from JSON
            ],
            'Slavia' => [
                'image' => 'assets/images/skoda slavia.jpg',
                // Features loaded from JSON
            ],
            'Kylaq' => [
                'image' => 'assets/images/skoda Kylaq.avif',
                // Features loaded from JSON
            ],
            'Kodiaq' => [
                'image' => 'assets/images/skoda kodiaq.webp',
                // Features loaded from JSON
            ]
        ]
    ],
    'Land-Rover' => [
        'id' => 'land-rover',
        'logo' => 'assets/images/land rover.png',
        'models' => [
            'Defender' => [
                'image' => 'assets/images/defender.avif',
                // Features loaded from JSON
            ],
            'Range Rover' => [
                'image' => 'assets/images/land rover range rover.avif',
                // Features loaded from JSON
            ],
            'Range Rover Sport' => [
                'image' => 'assets/images/land rover range rover sport.avif',
                // Features loaded from JSON
            ],
            'Velar' => [
                'image' => 'assets/images/land rover range rover velar.avif',
                // Features loaded from JSON
            ],
            'Discovery' => [
                'image' => 'assets/images/Discovery.webp',
                // Features loaded from JSON
            ]
        ]
    ],
    'Ford' => [
        'id' => 'ford',
        'logo' => 'assets/images/ford.png',
        'models' => [
            'Mustang' => [
                'image' => 'assets/images/Ford Mustang.avif',
                // Features loaded from JSON
            ],
            'Endeavour' => [
                'image' => 'assets/images/endeavour.avif',
                // Features loaded from JSON
            ],
            'EcoSport' => [
                'image' => 'assets/images/ford ecosport.avif',
                // Features loaded from JSON
            ],
            'Figo' => [
                'image' => 'assets/images/ford figo.avif',
                // Features loaded from JSON
            ],
            'Aspire' => [
                'image' => 'assets/images/ford aspire.avif',
                // Features loaded from JSON
            ]
        ]
    ],
    'Citroen' => [
        'id' => 'citroen',
        'logo' => 'assets/images/citroen.png',
        'models' => [
            'C3' => [
                'image' => 'assets/images/citroen c3.avif',
                // Features loaded from JSON
            ],
            'eC3' => [
                'image' => 'assets/images/ec3.avif',
                // Features loaded from JSON
            ],
            'C5 Aircross' => [
                'image' => 'assets/images/citroen c5 aircross.avif',
                // Features loaded from JSON
            ],
            'Basalt' => [
                'image' => 'assets/images/citroen basalt.avif',
                // Features loaded from JSON
            ],
            'C3 Aircross' => [
                'image' => 'assets/images/citroen aircross.avif',
                // Features loaded from JSON
            ]
        ]
    ]
];

// Load features from JSON data
$jsonChecklistPath = __DIR__ . '/../assets/data/checklist_data.json';
if (file_exists($jsonChecklistPath)) {
    $checklistData = json_decode(file_get_contents($jsonChecklistPath), true);

    // Brand name mapping (PHP key => JSON key)
    $brandNameMap = [
        'Maruti-Suzuki' => 'Maruti Suzuki',
        'Tata-Motors' => 'Tata Motors',
        'MG-Motor' => 'MG Motor',
        'Force-Motors' => 'Force Motors',
        'Land-Rover' => 'Land Rover',
        'Mercedes-Benz' => 'Mercedes',
    ];

    if ($checklistData && isset($checklistData['brands'])) {
        foreach ($carData as $brandKey => &$brandInfo) {
            // Determine JSON brand key
            $jsonBrandKey = $brandNameMap[$brandKey] ?? str_replace('-', ' ', $brandKey);

            if (isset($checklistData['brands'][$jsonBrandKey]['models'])) {
                foreach ($brandInfo['models'] as $modelKey => &$modelInfo) {
                    if (isset($checklistData['brands'][$jsonBrandKey]['models'][$modelKey]['features'])) {
                        $modelInfo['features'] = $checklistData['brands'][$jsonBrandKey]['models'][$modelKey]['features'];
                    }
                }
            }
        }
    }
}
?>